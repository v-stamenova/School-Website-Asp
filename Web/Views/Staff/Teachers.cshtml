@model List<Teacher>
@inject SubjectService subjectService

<header class="masthead" style="background-image: url('../../images/banners/leading.jpg')">
	<div class="overlay"></div>
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-md-10 mx-auto">
				<div class="site-heading">
					@if (Model[0].IsHeadTeacher)
					{
						<h1 class="open-sans custom-heading">Главни учители</h1>
					}
					else
					{
						<h1 class="open-sans custom-heading">Учители</h1>
					}
				</div>
			</div>
		</div>
	</div>
</header>
<div class="container">
	<div class="row">
		<div class="col-lg-8 col-md-10 mx-auto">
			@if (Model[0].IsHeadTeacher)
			{
				@foreach (Teacher teacher in Model)
				{
					<div class="post-preview">
						<a asp-controller="staff" asp-action="teacher" asp-route-id="@teacher.Username">
							<h2 class="post-title bold">
								@teacher.FirstName @teacher.MiddleName @teacher.LastName
							</h2>
							<h3 class="post-subtitle">
								@teacher.AdditionalRole
							</h3>
						</a>
					</div>
					<hr>
				}
			}
			else
			{
				@foreach (Subject subject in subjectService.GetSubjects().OrderBy(x => x.FullName))
				{
					<div class="post-preview">
						<h2 class="post-title bold">
							@subject.FullName
						</h2>
						@foreach (Teacher teacher in Model.Where(x => x.Subject == subject))
						{
							<a asp-controller="staff" asp-action="teacher" asp-route-id="@teacher.Username">
								<h2 class="post-subtitle bold">
									@teacher.FirstName @teacher.MiddleName @teacher.LastName
								</h2>
							</a>
						}
					</div>
					<hr />
				}
			}
		</div>
	</div>
</div>
