@model List<Article>

<header class="masthead" style="background-image: url('../../images/banners/leading.jpg')">
	<div class="overlay"></div>
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-md-10 mx-auto">
				<div class="site-heading">
					<h1 class="open-sans custom-heading">Съобщения</h1>
				</div>
			</div>
		</div>
	</div>
</header>
<div class="container">
	<div class="row">
		<div class="col-lg-8 col-md-10 mx-auto">
			@foreach (Article article in Model)
			{
				<div class="post-preview">
					@if (!string.IsNullOrWhiteSpace(article.Content))
					{
						<a asp-controller="article" asp-action="open" asp-route-id="@article.Id">
							<h2 class="post-title bold">
								@article.Title
								@if (Display.IsNewArticle(article.CreatedOn))
								{
									<span class="badge badge-secondary">Ново</span>
								}
							</h2>
							@if (article.Subtitle is not null)
							{
								<h4 class="post-subtitle">
									<span class="badge badge-pill badge-info">@Display.UserFriendlyTargetGroup(article.Target.Value)</span>
									@article.Subtitle - Каченo на @article.CreatedOn.ToShortDateString()
								</h4>
							}
							else
							{
								<h4 class="post-subtitle">
									<span class="badge badge-pill badge-info">@Display.UserFriendlyTargetGroup(article.Target.Value)</span>
									Каченo на @article.CreatedOn.ToShortDateString()
								</h4>
							}
						</a>
					}
					else if (article.FilePath is not null)
					{
						<a href="@article.FilePath">
							<h2 class="post-title bold">
								@article.Title
								@if (Display.IsNewArticle(article.CreatedOn))
								{
									<span class="badge badge-secondary">Ново</span>
								}
							</h2>
							@if (article.Subtitle is not null)
							{
								<h4 class="post-subtitle">
									<span class="badge badge-pill badge-info">@Display.UserFriendlyTargetGroup(article.Target.Value)</span>
									@article.Subtitle - Каченo на @article.CreatedOn.ToShortDateString()
								</h4>
							}
							else
							{
								<h4 class="post-subtitle">
									<span class="badge badge-pill badge-info">@Display.UserFriendlyTargetGroup(article.Target.Value)</span>
									Каченo на @article.CreatedOn.ToShortDateString()
								</h4>
							}
						</a>
					}
					else
					{
						<a>
							<h2 class="post-title bold">
								@article.Title
								@if (Display.IsNewArticle(article.CreatedOn))
								{
									<span class="badge badge-secondary">Ново</span>
								}
							</h2>
							<h4 class="post-subtitle">
								<span class="badge badge-pill badge-info">@Display.UserFriendlyTargetGroup(article.Target.Value)</span>
								Каченo на @article.CreatedOn.ToShortDateString()
							</h4>
						</a>
					}
				</div>
				<hr>
			}
		</div>
	</div>
</div>